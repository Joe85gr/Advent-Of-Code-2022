name: cd-ci

on:
  push:

jobs:
  build_and_test_dotnet:
      runs-on: ubuntu-latest
      container:
        image: mcr.microsoft.com/dotnet/sdk:6.0-alpine

      steps:
        - name: Checkout
          uses: actions/checkout@v3

        - name: Build
          run: dotnet build ./src/dotnet

        - name: Test
          run: dotnet test ./src/dotnet
  
  test_python:
      runs-on: ubuntu-latest

      steps:
        - name: Checkout
          uses: actions/checkout@v3

        - name: Set up Python 3.9
          uses: actions/setup-python@v4
          with:
            python-version: '3.9'
        - name: Display Python version
          run: python -c "import sys; print(sys.version)"

        - name: Test
          run: |
            cd ./src/python
            python unittest discover -v ./src/python

